!function(t,n,e){"object"==typeof exports?module.exports=n():"function"==typeof define&&define.amd?define(n):e[t]=n()}("SlsRoute",function(){var t=function(){};return t.prototype={constructor:t,version:"1.4.0",debug:!0,blur:!0,routes:[],changeRouteFn:function(){},defaultRouteFn:function(){},lg:function(t){return this.debug&&console.log(t),this},config:function(t){return this.blur=t&&t.blur,this},init:function(t,n,e){return t.constructor!==Array?(this.lg("init方法的第一个参数必须为数组。"),this):(this.routes=t,this.changeRouteFn=n&&n.constructor===Function?n:null,this.defaultRouteFn=e&&e.constructor===Function?e:null,void this.check())},check:function(){function t(){var t=window.location.hash,e=1,o=t.length,i=t.length,u=t.substring(e,o),r={action:"",query:{}},s=!1;if(-1!=t.indexOf("?")){o=t.indexOf("?"),u=t.substring(e,o);var c=t.substring(o+1,i);if(c)if(-1!=c.indexOf("&"))for(var f=c.split("&"),a=f.length,h=0;a>h;h++){var l=f[h].split("=");r.query[l[0]]=l[1]}else if(-1!=c.indexOf("=")){var l=c.split("=");r.query[l[0]]=l[1]}else for(var f=c.split("/"),h=0;h<f.length;h++){var d,g;h%2===0&&(d=f[h]),h%2===1&&(g=f[h]),r.query[d]=g}}r.action=u;for(var v=n.routes.length,h=0;v>h;h++){if(n.blur&&0==r.action.indexOf(n.routes[h]+"/")){n.changeRouteFn&&n.changeRouteFn(r),s=!0;break}if(n.routes[h]===r.action){n.changeRouteFn&&n.changeRouteFn(r),s=!0;break}}s||n.defaultRouteFn&&n.defaultRouteFn()}var n=this;window.addEventListener("hashchange",t),t()}},new t},this);